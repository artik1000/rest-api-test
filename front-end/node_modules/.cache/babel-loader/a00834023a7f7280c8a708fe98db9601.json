{"ast":null,"code":"import axios from \"axios\";\nimport MyInput from '@/components/MyInput';\nimport MyButton from '@/components/MyButton';\nexport default {\n  name: 'my-form',\n  components: {\n    MyInput,\n    MyButton\n  },\n\n  data() {\n    return {\n      myFormData: {\n        name: '',\n        avatar: '',\n        email: '',\n        city: '',\n        phone: '',\n        site: ''\n      }\n    };\n  },\n\n  methods: {\n    async postRequest() {\n      let data = this.myFormData;\n      this.$store.commit('myForm/pushUser', data);\n      this.myFormData = {\n        name: '',\n        avatar: '',\n        email: '',\n        city: '',\n        phone: '',\n        site: ''\n      };\n      document.getElementById('my__form').reset();\n      await axios({\n        method: 'post',\n        url: '/api/users',\n        data: {\n          name: this.myFormData.name,\n          value: this.myFormData.value\n        },\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        console.log('Ответ сервера успешно получен!');\n        console.log(response.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n  },\n  computed: {\n    canCreate() {\n      return this.myFormData.avatar && this.myFormData.name && this.myFormData.email && this.myFormData.city && this.myFormData.phone && this.myFormData.site;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,eAAe;EACXC,IAAI,EAAE,SADK;EAEXC,UAAU,EAAE;IACRH,OADQ;IAERC;EAFQ,CAFD;;EAMXG,IAAG,GAAK;IACJ,OAAO;MACHC,UAAU,EAAE;QACRH,IAAI,EAAE,EADE;QAERI,MAAM,EAAE,EAFA;QAGRC,KAAK,EAAE,EAHC;QAIRC,IAAI,EAAE,EAJE;QAKRC,KAAK,EAAE,EALC;QAMRC,IAAI,EAAE;MANE;IADT,CAAP;EAUH,CAjBU;;EAkBXC,OAAO,EAAE;IACL,MAAMC,WAAN,GAAoB;MAChB,IAAIR,IAAG,GAAI,KAAKC,UAAhB;MACA,KAAKQ,MAAL,CAAYC,MAAZ,CAAmB,iBAAnB,EAAsCV,IAAtC;MACA,KAAKC,UAAL,GAAkB;QACdH,IAAI,EAAE,EADQ;QAEdI,MAAM,EAAE,EAFM;QAGdC,KAAK,EAAE,EAHO;QAIdC,IAAI,EAAE,EAJQ;QAKdC,KAAK,EAAE,EALO;QAMdC,IAAI,EAAE;MANQ,CAAlB;MAQAK,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC;MACA,MAAMlB,KAAK,CAAC;QACRmB,MAAM,EAAE,MADA;QAERC,GAAG,EAAE,YAFG;QAGRf,IAAI,EAAE;UACFF,IAAI,EAAE,KAAKG,UAAL,CAAgBH,IADpB;UAEFkB,KAAK,EAAE,KAAKf,UAAL,CAAgBe;QAFrB,CAHE;QAORC,OAAO,EAAE;UACL,gBAAgB;QADX;MAPD,CAAD,CAAL,CAWDC,IAXC,CAWI,UAASC,QAAT,EAAmB;QACrBC,OAAO,CAACC,GAAR,CAAY,gCAAZ;QACAD,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACnB,IAArB;MACH,CAdC,EAeDsB,KAfC,CAeK,UAASC,KAAT,EAAgB;QACnBH,OAAO,CAACC,GAAR,CAAYE,KAAZ;MACH,CAjBC,CAAN;IAkBH;;EA/BI,CAlBE;EAmDXC,QAAQ,EAAE;IACNC,SAAQ,GAAI;MACR,OAAO,KAAKxB,UAAL,CAAgBC,MAAhB,IACA,KAAKD,UAAL,CAAgBH,IADhB,IAEA,KAAKG,UAAL,CAAgBE,KAFhB,IAGA,KAAKF,UAAL,CAAgBG,IAHhB,IAIA,KAAKH,UAAL,CAAgBI,KAJhB,IAKA,KAAKJ,UAAL,CAAgBK,IALvB;IAMJ;;EARM;AAnDC,CAAf","names":["axios","MyInput","MyButton","name","components","data","myFormData","avatar","email","city","phone","site","methods","postRequest","$store","commit","document","getElementById","reset","method","url","value","headers","then","response","console","log","catch","error","computed","canCreate"],"sourceRoot":"","sources":["/Users/maksimov/Documents/Проекты/rest-api-test/front-end/src/components/MyForm.vue"],"sourcesContent":["<template>\n    <form class=\"my__form\" id=\"my__form\" onsubmit=\"return false\">\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Name</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.name\"\n                />\n            </div>\n        </div>\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Avatar Link</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.avatar\"\n                />\n            </div>\n        </div>\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Email</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.city\"\n                />\n            </div>\n        </div>\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Email</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.email\"\n                />\n            </div>\n        </div>\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Phone</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.phone\"\n                />\n            </div>\n        </div>\n        <div>\n            <div class=\"my__form__label__container\">\n                <label class=\"my__form__label\">Site</label>\n            </div>\n            <div>\n                <my-input\n                        v-model=\"myFormData.site\"\n                />\n            </div>\n        </div>\n        <my-button\n                @click=\"postRequest\"\n                style=\"align-self: flex-start\"\n                :disableBtn=\"!canCreate\"\n        >\n            Создать\n        </my-button>\n    </form>\n</template>\n<script>\nimport axios from \"axios\";\nimport MyInput from '@/components/MyInput'\nimport MyButton from '@/components/MyButton'\nexport default {\n    name: 'my-form',\n    components: {\n        MyInput,\n        MyButton\n    },\n    data () {\n        return {\n            myFormData: {\n                name: '',\n                avatar: '',\n                email: '',\n                city: '',\n                phone: '',\n                site: ''\n            },\n        }\n    },\n    methods: {\n        async postRequest() {\n            let data = this.myFormData;\n            this.$store.commit('myForm/pushUser', data);\n            this.myFormData = {\n                name: '',\n                avatar: '',\n                email: '',\n                city: '',\n                phone: '',\n                site: ''\n            };\n            document.getElementById('my__form').reset();\n            await axios({\n                method: 'post',\n                url: '/api/users',\n                data: {\n                    name: this.myFormData.name,\n                    value: this.myFormData.value,\n                },\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(function(response) {\n                    console.log('Ответ сервера успешно получен!');\n                    console.log(response.data);\n                })\n                .catch(function(error) {\n                    console.log(error);\n                });\n        },\n    },\n    computed: {\n        canCreate (){\n            return this.myFormData.avatar\n                && this.myFormData.name\n                && this.myFormData.email\n                && this.myFormData.city\n                && this.myFormData.phone\n                && this.myFormData.site\n        }\n    }\n\n}\n</script>\n<style lang=\"sass\" scoped>\n    @mixin center\n        position: absolute\n        top: 0\n        left: 0\n        right: 0\n        bottom: 0\n        margin: auto\n    .my__form\n        @include center\n        display: flex\n        flex-direction: column\n        background: rgb(131,58,180)\n        background: linear-gradient(135deg, rgba(131,58,180,1) 0%, rgba(29,50,253,1) 50%, rgba(69,188,252,1) 100%)\n        color: white\n        width: 20vw\n        box-sizing: border-box\n        height: max-content\n        padding: 16px\n        border-radius: 10px\n        gap: 10px\n        .my__form__input__col\n            display: flex\n            flex-direction: column\n        .my__form__label__container\n            text-align: left\n            width: 100%\n            font-weight: bold\n</style>"]},"metadata":{},"sourceType":"module"}