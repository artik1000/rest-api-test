{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1cd1d94e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"sort__group\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"users__wrapper\"\n};\nconst _hoisted_4 = {\n  class: \"pagination__wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  style: {\n    \"text-align\": \"center\"\n  }\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Список пользователей пока пуст\", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_my_select = _resolveComponent(\"my-select\");\n\n  const _component_user_item = _resolveComponent(\"user-item\");\n\n  const _component_user_pagination = _resolveComponent(\"user-pagination\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_my_select, {\n    \"model-value\": _ctx.selectedSort,\n    onClick: _cache[0] || (_cache[0] = () => {}),\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => {\n      _ctx.setSelectedSort;\n      _ctx.sortedUsers;\n    }),\n    options: $data.sortOptions\n  }, null, 8\n  /* PROPS */\n  , [\"model-value\", \"options\"])]), this.users.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"section\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.users.slice($data.pageFirst, $data.pageLast), user => {\n    return _openBlock(), _createBlock(_component_user_item, {\n      key: user.id,\n      user: user\n    }, null, 8\n    /* PROPS */\n    , [\"user\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.totalPages, pageNumber => {\n    return _openBlock(), _createBlock(_component_user_pagination, {\n      key: pageNumber,\n      class: _normalizeClass({\n        'pagination__active': $data.page === pageNumber\n      }),\n      onClick: $event => $options.changePage(pageNumber)\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(pageNumber), 1\n      /* TEXT */\n      )]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"class\", \"onClick\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _hoisted_7))], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;EACSA,KAAK,EAAC;;;;;;EASFA,KAAK,EAAC;;;EAOVA,KAAK,EAAC;;;;EAWNC,KAA0B,EAA1B;IAAA;EAAA;;;gEACDC,oBAAuC,IAAvC,EAAuC,IAAvC,EAAI,gCAAJ,EAAkC;AAAA;AAAlC;;oBAAAC;;;;;;;;6DA5BJD,oBAOM,KAPN,cAOM,CANFE,aAKEC,oBALF,EAKE;IAJO,eAAaC,iBAIpB;IAHOC,OAAK,4BAAN,OAAS,CAAH,CAGZ;IAFO,uBAAkBC;MAAEF;MAAiBA;IAAW,CAA9B,CAEzB;IADOG,OAAO,EAAEC;EAChB,CALF;;EAAA,6BAME,CAPN,QAQgBC,MAAMC,SAAM,mBAA5BC,oBAkBM,KAlBN,EAkBMC,UAlBN,EAkBM,CAjBNZ,oBAMU,SANV,cAMU,oBALNW,oBAIEE,SAJF,EAIE,IAJF,EAIEC,YAHqBV,WAAMW,KAAN,CAAYP,eAAZ,EAAsBA,cAAtB,CAGrB,EAHaQ,IAAsC,IAAlC;yBADnBC,aAIEC,oBAJF,EAIE;MAFOC,GAAG,EAAEH,IAAI,CAACI,EAEjB;MADOJ,IAAI,EAAEA;IACb,CAJF;;IAAA;GAIE,CAJF;;EAAA,CAKM,EANV,CAiBM,EAVNhB,oBASM,KATN,cASM,oBARFW,oBAOkBE,SAPlB,EAOkB,IAPlB,EAOkBC,YANWN,gBAMX,EANHa,UAAwB,IAAd;yBADzBJ,aAOkBK,0BAPlB,EAOkB;MALTH,GAAG,EAAEE,UAKI;MAJTvB,KAAK;QAAA,sBAAyBU,eAASa;MAAlC,EAII;MAHThB,OAAK,YAAEkB,oBAAWF,UAAX;IAGE,CAPlB;wBAMI,MAAc,mCAAZA,aAAU;MAAA;OAAE;;;;KANlB;;IAAA;GAOkB,CAPlB;;EAAA,CAQE,EATN,CAUM,CAlBN,oBAmBAV,oBAEM,KAFN,cAEMa,UAFN","names":["class","style","_createElementVNode","_hoisted_6","_createVNode","_component_my_select","_ctx","onClick","_cache","options","$data","users","length","_createElementBlock","_hoisted_2","_Fragment","_renderList","slice","user","_createBlock","_component_user_item","key","id","pageNumber","_component_user_pagination","$options","_hoisted_7"],"sourceRoot":"","sources":["/Users/maksimov/Documents/Проекты/rest-api-test/front-end/src/components/MySlider/UserSlider.vue"],"sourcesContent":["<template>\n    <div class=\"sort__group\">\n        <my-select\n                :model-value=\"selectedSort\"\n                @click=\"\"\n                @update:model-value=\"setSelectedSort; sortedUsers\"\n                :options=\"sortOptions\"\n        />\n    </div>\n    <div v-if=\"this.users.length > 0\">\n    <section class=\"users__wrapper\">\n        <user-item\n                v-for=\"user in users.slice(pageFirst,pageLast)\"\n                :key=\"user.id\"\n                :user=\"user\"\n        />\n    </section>\n    <div class=\"pagination__wrapper\">\n        <user-pagination\n                v-for=\"pageNumber in totalPages\"\n                :key=\"pageNumber\"\n                :class=\"{'pagination__active': page === pageNumber}\"\n                @click=\"changePage(pageNumber)\"\n        >\n            {{pageNumber}}\n        </user-pagination>\n    </div>\n    </div>\n    <div style=\"text-align: center\" v-else>\n        <h1>Список пользователей пока пуст</h1>\n    </div>\n</template>\n<script>\nimport UserItem from '@/components/MySlider/UserItem'\nimport {mapState, mapMutations, mapActions, mapGetters} from 'vuex'\nimport UserPagination from \"@/components/MySlider/UserPagination\";\nexport default {\n    name: 'user-slider',\n    components: {\n        UserPagination,\n        UserItem,\n    },\n    data () {\n      return {\n          page: 1,\n          pageFirst: 0,\n          pageLast: 5,\n          totalPages: 1,\n          sortOptions: [\n              { value: 'toAlph', name: 'A-Z' },\n              { value: 'reverseAlph', name: 'Z-A'}\n          ]\n      }\n    },\n    methods: {\n        ...mapMutations({\n            setUsers: 'TestModule/setUsers',\n            setSearchQuery: 'TestModule/setSearchQuery',\n            setSelectedSort: 'TestModule/setSelectedSort',\n            sortedUsers: 'TestModule/sortedUsers'\n        }),\n        ...mapActions({\n            fetchUsers: 'TestModule/fetchUsers'\n        }),\n        changePage(pageNumber) {\n            this.page = pageNumber;\n            this.pageFirst = 5 * this.page - 5;\n            this.pageLast = 5 * this.page;\n        },\n        sortinStart () {\n            this.setSelectedSort();\n            let ss = this.selectedSort;\n            this.sortedUsers(ss);\n        }\n    },\n    computed: {\n        ...mapState({\n            users: state => state.TestModule.users,\n            selectedSort: state => state.TestModule.selectedSort,\n        }),\n        ...mapGetters({\n        })\n    },\n    beforeMount() {\n        this.totalPages = Math.ceil(this.users.length / 5);\n        this.fetchUsers();\n        console.log(this.totalPages);\n    },\n}\n</script>\n<style lang=\"sass\" scoped>\n.users__wrapper\n   display: flex\n   flex-direction: row\n   gap: 10px\n.pagination__wrapper\n    display: flex\n    flex-direction: row\n    justify-content: center\n    margin-top: 16px\n    gap: 5px\n.pagination__active\n    color: blue !important\n    background: white !important\n    border: 2px solid blue !important\n.sort__group\n    display: flex\n    flex-direction: row\n    width: 100%\n    padding-bottom: 16px\n</style>"]},"metadata":{},"sourceType":"module"}