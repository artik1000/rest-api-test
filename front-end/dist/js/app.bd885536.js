(function(){"use strict";var e={8736:function(e,t,r){var s=r(9242),n=r(3396);const o={class:"main__nav"},a=(0,n.Uk)("Users"),u=(0,n.Uk)("AddUser");function i(e,t){const r=(0,n.up)("router-link"),s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",o,[(0,n.Wm)(r,{to:"/"},{default:(0,n.w5)((()=>[a])),_:1}),(0,n.Wm)(r,{to:"/adduser"},{default:(0,n.w5)((()=>[u])),_:1})]),(0,n.Wm)(s)],64)}var l=r(89);const c={},d=(0,l.Z)(c,[["render",i]]);var p=d,m=r(2483);const h=e=>((0,n.dD)("data-v-cee6ea12"),e=e(),(0,n.Cn)(),e),f={class:"home"},g=h((()=>(0,n._)("h1",{class:"page__description"},"Users Page",-1)));function v(e,t,r,s,o,a){const u=(0,n.up)("my-sort-group"),i=(0,n.up)("user-slider");return(0,n.wg)(),(0,n.iD)("main",f,[g,(0,n.Wm)(u),(0,n.Wm)(i,{users:e.sortByCity,buttonEnable:!1,usersOnPage:5},null,8,["users"])])}var y=r(65),_=r(7139);const b=e=>((0,n.dD)("data-v-6d418c1b"),e=e(),(0,n.Cn)(),e),w={key:0},U={class:"users__wrapper"},P={class:"pagination__wrapper"},S={key:1,style:{"text-align":"center"}},k=b((()=>(0,n._)("h1",null,"Пользователей нет",-1))),C=[k];function T(e,t,r,s,o,a){const u=(0,n.up)("user-item"),i=(0,n.up)("user-pagination");return this.users.length>0?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("section",U,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.users.slice(o.pageFirst,o.pageLast),(e=>((0,n.wg)(),(0,n.j4)(u,{key:e.id,user:e,buttonEnable:r.buttonEnable},null,8,["user","buttonEnable"])))),128))]),(0,n._)("div",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.totalPages,(e=>((0,n.wg)(),(0,n.j4)(i,{key:e,class:(0,_.C_)({pagination__active:o.page===e}),onClick:t=>a.changePage(e)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,_.zw)(e),1)])),_:2},1032,["class","onClick"])))),128))])])):((0,n.wg)(),(0,n.iD)("div",S,C))}var M=r(7184);const O={class:"pagination"},I={class:"pagination__number"};function D(e,t,r,s,o,a){return(0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",I,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])])}var E={name:"user-pagination"};const j=(0,l.Z)(E,[["render",D],["__scopeId","data-v-5af13153"]]);var A=j,Z={name:"user-slider",components:{UserPagination:A,UserItem:M.Z},props:{users:{type:Array,required:{type:Boolean,default:!0}},buttonEnable:Boolean,usersOnPage:Number},data(){return{page:1,pageFirst:0,pageLast:5}},methods:{...(0,y.OI)({setUsers:"TestModule/setUsers",setSlidesPerPage:"TestModule/setSlidesPerPage"}),...(0,y.nv)({fetchUsers:"TestModule/fetchUsers"}),changePage(e){this.page=e,this.pageFirst=this.slidesPerPage*this.page-this.slidesPerPage,this.pageLast=this.slidesPerPage*this.page}},computed:{...(0,y.rn)({selectedSort:e=>e.TestModule.selectedSort,totalPages:e=>e.TestModule.totalPages,slidesPerPage:e=>e.TestModule.slidesPerPage}),...(0,y.Se)({})},mounted(){this.fetchUsers()},beforeMount(){let e=this.usersOnPage;this.setSlidesPerPage(e)}};const V=(0,l.Z)(Z,[["render",T],["__scopeId","data-v-6d418c1b"]]);var B=V;const Q={class:"sort__group"};function L(e,t,r,s,o,a){const u=(0,n.up)("my-select"),i=(0,n.up)("my-input");return(0,n.wg)(),(0,n.iD)("div",Q,[(0,n.Wm)(u,{"model-value":e.selectedSort,"onUpdate:modelValue":e.setSortUsers,options:o.sortOptions},null,8,["model-value","onUpdate:modelValue","options"]),(0,n.Wm)(i,{modelValue:e.searchQuery,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.searchQuery=t),e.setSearchQuery],class:"search__input",placeholder:"Укажите город"},null,8,["modelValue","onUpdate:modelValue"])])}const N=e=>((0,n.dD)("data-v-7ceca3de"),e=e(),(0,n.Cn)(),e),W=["value"],q=N((()=>(0,n._)("option",{class:"option",value:"",disabled:"",selected:""},"По умолчанию",-1))),z=["value"];function F(e,t,r,s,o,a){return(0,n.wg)(),(0,n.iD)("select",{value:r.modelValue,onChange:t[0]||(t[0]=(...e)=>a.updateInput&&a.updateInput(...e)),class:"select"},[q,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.value,value:e.value},(0,_.zw)(e.name),9,z)))),128))],40,W)}var x={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const H=(0,l.Z)(x,[["render",F],["__scopeId","data-v-7ceca3de"]]);var $=H,Y=r(1210),K={name:"my-sort-group",components:{MySelect:$,MyInput:Y.Z},data(){return{sortOptions:[{value:"toAlph",name:"A-Z"},{value:"reverseAlph",name:"Z-A"}]}},methods:{...(0,y.OI)({setSearchQuery:"TestModule/setSearchQuery",setSortUsers:"TestModule/setSortUsers"})},computed:{...(0,y.rn)({selectedSort:e=>e.TestModule.selectedSort,searchQuery:e=>e.TestModule.searchQuery}),...(0,y.Se)({sortByCity:"TestModule/sortByCity"})}};const G=(0,l.Z)(K,[["render",L],["__scopeId","data-v-6bdbe2c0"]]);var R=G,J={name:"HomeView",components:{UserSlider:B,MySortGroup:R},computed:{...(0,y.rn)({users:e=>e.TestModule.users}),...(0,y.Se)({sortByCity:"TestModule/sortByCity"})}};const X=(0,l.Z)(J,[["render",v],["__scopeId","data-v-cee6ea12"]]);var ee=X;const te=[{path:"/",name:"home",component:ee},{path:"/adduser",name:"adduser",component:()=>r.e(443).then(r.bind(r,7046))},{path:"/userpage",name:"userpage",component:()=>r.e(361).then(r.bind(r,1361))}],re=(0,m.p7)({history:(0,m.PO)("/"),routes:te});var se=re,ne=(r(6699),r(6265)),oe=r.n(ne);const ae={state:()=>({users:[],selectedSort:"",searchQuery:"",thisUser:"",gotUser:"",totalPages:2,slidesPerPage:5}),getters:{sortByCity(e){return[...e.users].sort(((t,r)=>t[e.selectedSort]?.localeCompare(r[e.selectedSort]))).filter((t=>t.city.toLowerCase().includes(e.searchQuery.toLowerCase())))}},mutations:{setGotUser(e,t){e.gotUser=t},setSlidesPerPage(e,t){e.slidesPerPage=t},showUser(e,t){e.thisUser=t.id},setUsers(e,t){e.users=t},pushUser(e,t){e.users.push(t)},setSortUsers(e,t){e.selectedSort=t,"toAlph"===t?(e.users=e.users.sort(((e,t)=>e.name.localeCompare(t.name))),e.selectedSort=""):"reverseAlph"===t&&(e.users=e.users.sort(((e,t)=>e.name.localeCompare(t.name))).reverse(),e.selectedSort="")},setSearchQuery(e,t){e.searchQuery=t},addUser(e,t){e.users.push(t)},removeUser(e,t){e.users=e.users.filter((e=>e.id!==t.id))}},actions:{async fetchUsers({state:e,commit:t}){try{const r=await oe().get("/api/users",{headers:{"Content-Type":"application/json"}});t("setUsers",r.data),e.totalPages=Math.ceil(e.users.length/e.slidesPerPage)}catch(r){console.log(r)}},async fetchUser({state:e,commit:t}){try{const r=await oe().get(`/api/users/${e.thisUser}`,{headers:{"Content-Type":"application/json"}});t("setGotUser",r.data),e.thisUser=""}catch(r){console.log(r)}}},namespaced:!0};var ue=(0,y.MT)({state:{},getters:{},mutations:{},actions:{},modules:{TestModule:ae}}),ie=[M.Z,B,A];const le=(0,s.ri)(p);ie.forEach((e=>{le.component(e.name,e)})),le.use(ue).use(se).mount("#app")},1210:function(e,t,r){r.d(t,{Z:function(){return d}});var s=r(3396);const n=["typle","vlaue","placeholder"],o=["typle","vlaue","placeholder"];function a(e,t,r,a,u,i){const l=(0,s.Q2)("maska");return"tel"===r.typ?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,typle:r.typ,class:"my__input",vlaue:r.modelValue,placeholder:r.placeholder,onInput:t[0]||(t[0]=(...e)=>i.updateInput&&i.updateInput(...e)),required:""},null,40,n)),[[l,"+7(###)###-##-##"]]):((0,s.wg)(),(0,s.iD)("input",{key:1,class:"my__input",typle:r.typ,vlaue:r.modelValue,placeholder:r.placeholder,onInput:t[1]||(t[1]=(...e)=>i.updateInput&&i.updateInput(...e)),required:""},null,40,o))}var u=r(9583),i={name:"my-input",directives:{maska:u.RY},props:{modelValue:[String,Number],placeholder:String,typ:String},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}},l=r(89);const c=(0,l.Z)(i,[["render",a],["__scopeId","data-v-aa548022"]]);var d=c},7184:function(e,t,r){r.d(t,{Z:function(){return y}});var s=r(3396),n=r(7139);const o={class:"card__user"},a={class:"img__user__block"},u=["src"],i={class:"contacts__user"},l=(0,s.Uk)("сайт: "),c=["href"];function d(e,t,r,d,p,m){const h=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("article",o,[(0,s.Wm)(h,{onClick:t[0]||(t[0]=e=>m.openUser(r.user)),to:"/userpage",class:"user__data"},{default:(0,s.w5)((()=>[(0,s._)("div",a,[(0,s._)("img",{class:"img__user",src:r.user.avatar},null,8,u)]),(0,s._)("div",null,[(0,s._)("h1",null,"имя: "+(0,n.zw)(r.user.name),1)]),(0,s._)("div",null,[(0,s._)("h1",null,"город: "+(0,n.zw)(r.user.city),1)]),(0,s._)("div",i,[(0,s._)("div",null,[(0,s._)("h5",null,"телефон: "+(0,n.zw)(r.user.phone),1)]),(0,s._)("div",null,[(0,s._)("h5",null,"email: "+(0,n.zw)(r.user.email),1)])])])),_:1}),(0,s._)("div",null,[(0,s._)("h5",null,[l,(0,s._)("a",{href:r.user.site},(0,n.zw)(r.user.site),9,c)])]),!0===r.buttonEnable?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn__remove",onClick:t[1]||(t[1]=e=>m.removeUser(r.user))},"Удалить")):(0,s.kq)("",!0)])}var p=r(6265),m=r.n(p),h=r(65),f={name:"user-item",props:{user:{type:Object,required:!0},buttonEnable:Boolean},methods:{async removeUser(e){await m()["delete"](`/api/users/${e.id}`,{headers:{"Content-Type":"application/json"}}),this.$store.commit("TestModule/removeUser",e)},openUser(e){this.showUser(e),this.fetchUser()},...(0,h.OI)({showUser:"TestModule/showUser"}),...(0,h.nv)({fetchUser:"TestModule/fetchUser"})}},g=r(89);const v=(0,g.Z)(f,[["render",d],["__scopeId","data-v-5e6850c8"]]);var y=v}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,o){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var u=!0,i=0;i<s.length;i++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](s[i])}))?s.splice(i--,1):(u=!1,o<a&&(a=o));if(u){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,s){return r.f[s](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+(443===e?"about":e)+"."+{361:"44795d01",443:"947c903a"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{361:"9d6c007f",443:"e8287a32"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="front-end:";r.l=function(s,n,o,a){if(e[s])e[s].push(n);else{var u,i;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+o){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",t+o),u.src=s),e[s]=[n];var p=function(t,r){u.onerror=u.onload=null,clearTimeout(m);var n=e[s];if(delete e[s],u.parentNode&&u.parentNode.removeChild(u),n&&n.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e=function(e,t,r,s){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var o=function(o){if(n.onerror=n.onload=null,"load"===o.type)r();else{var a=o&&("load"===o.type?"missing":o.type),u=o&&o.target&&o.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=a,i.request=u,n.parentNode.removeChild(n),s(i)}};return n.onerror=n.onload=o,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var n=r[s],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){n=a[s],o=n.getAttribute("data-href");if(o===e||o===t)return n}},s=function(s){return new Promise((function(n,o){var a=r.miniCssF(s),u=r.p+a;if(t(a,u))return n();e(s,u,n,o)}))},n={143:0};r.f.miniCss=function(e,t){var r={361:1,443:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=s(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={143:0};r.f.j=function(t,s){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var o=new Promise((function(r,s){n=e[t]=[r,s]}));s.push(n[2]=o);var a=r.p+r.u(t),u=new Error,i=function(s){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,n[1](u)}};r.l(a,i,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,a=s[0],u=s[1],i=s[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in u)r.o(u,n)&&(r.m[n]=u[n]);if(i)var c=i(r)}for(t&&t(s);l<a.length;l++)o=a[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},s=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(8736)}));s=r.O(s)})();
//# sourceMappingURL=app.bd885536.js.map