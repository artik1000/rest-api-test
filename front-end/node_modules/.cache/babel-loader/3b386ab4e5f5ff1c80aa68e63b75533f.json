{"ast":null,"code":"import UserItem from '@/components/MySlider/UserItem';\nimport { mapState, mapMutations, mapActions, mapGetters } from 'vuex';\nimport UserPagination from \"@/components/MySlider/UserPagination\";\nexport default {\n  name: 'user-slider',\n  components: {\n    UserPagination,\n    UserItem\n  },\n\n  data() {\n    return {\n      page: 1,\n      pageFirst: 0,\n      pageLast: 5,\n      totalPages: 1,\n      sortOptions: [{\n        value: 'toAlph',\n        name: 'A-Z'\n      }, {\n        value: 'reverseAlph',\n        name: 'Z-A'\n      }]\n    };\n  },\n\n  methods: { ...mapMutations({\n      setUsers: 'TestModule/setUsers',\n      setSearchQuery: 'TestModule/setSearchQuery',\n      setSelectedSort: 'TestModule/setSelectedSort',\n      sortedUsers: 'TestModule/sortedUsers'\n    }),\n    ...mapActions({\n      fetchUsers: 'TestModule/fetchUsers'\n    }),\n\n    changePage(pageNumber) {\n      this.page = pageNumber;\n      this.pageFirst = 5 * this.page - 5;\n      this.pageLast = 5 * this.page;\n    },\n\n    sortinStart() {\n      this.setSelectedSort();\n      let ss = this.selectedSort;\n      this.sortedUsers(ss);\n    }\n\n  },\n  computed: { ...mapState({\n      users: state => state.TestModule.users,\n      selectedSort: state => state.TestModule.selectedSort\n    }),\n    ...mapGetters({})\n  },\n\n  beforeMount() {\n    this.totalPages = Math.ceil(this.users.length / 5);\n    this.fetchUsers();\n    console.log(this.totalPages);\n  }\n\n};","map":{"version":3,"mappings":"AAiCA,OAAOA,QAAP,MAAqB,gCAArB;AACA,SAAQC,QAAR,EAAkBC,YAAlB,EAAgCC,UAAhC,EAA4CC,UAA5C,QAA6D,MAA7D;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,eAAe;EACXC,IAAI,EAAE,aADK;EAEXC,UAAU,EAAE;IACRF,cADQ;IAERL;EAFQ,CAFD;;EAMXQ,IAAG,GAAK;IACN,OAAO;MACHC,IAAI,EAAE,CADH;MAEHC,SAAS,EAAE,CAFR;MAGHC,QAAQ,EAAE,CAHP;MAIHC,UAAU,EAAE,CAJT;MAKHC,WAAW,EAAE,CACT;QAAEC,KAAK,EAAE,QAAT;QAAmBR,IAAI,EAAE;MAAzB,CADS,EAET;QAAEQ,KAAK,EAAE,aAAT;QAAwBR,IAAI,EAAE;MAA9B,CAFS;IALV,CAAP;EAUD,CAjBU;;EAkBXS,OAAO,EAAE,EACL,GAAGb,YAAY,CAAC;MACZc,QAAQ,EAAE,qBADE;MAEZC,cAAc,EAAE,2BAFJ;MAGZC,eAAe,EAAE,4BAHL;MAIZC,WAAW,EAAE;IAJD,CAAD,CADV;IAOL,GAAGhB,UAAU,CAAC;MACViB,UAAU,EAAE;IADF,CAAD,CAPR;;IAULC,UAAU,CAACC,UAAD,EAAa;MACnB,KAAKb,IAAL,GAAYa,UAAZ;MACA,KAAKZ,SAAL,GAAiB,IAAI,KAAKD,IAAT,GAAgB,CAAjC;MACA,KAAKE,QAAL,GAAgB,IAAI,KAAKF,IAAzB;IACH,CAdI;;IAeLc,WAAU,GAAK;MACX,KAAKL,eAAL;MACA,IAAIM,EAAC,GAAI,KAAKC,YAAd;MACA,KAAKN,WAAL,CAAiBK,EAAjB;IACJ;;EAnBK,CAlBE;EAuCXE,QAAQ,EAAE,EACN,GAAGzB,QAAQ,CAAC;MACR0B,KAAK,EAAEC,KAAI,IAAKA,KAAK,CAACC,UAAN,CAAiBF,KADzB;MAERF,YAAY,EAAEG,KAAI,IAAKA,KAAK,CAACC,UAAN,CAAiBJ;IAFhC,CAAD,CADL;IAKN,GAAGrB,UAAU,CAAC,EAAD;EALP,CAvCC;;EA+CX0B,WAAW,GAAG;IACV,KAAKlB,UAAL,GAAkBmB,IAAI,CAACC,IAAL,CAAU,KAAKL,KAAL,CAAWM,MAAX,GAAoB,CAA9B,CAAlB;IACA,KAAKb,UAAL;IACAc,OAAO,CAACC,GAAR,CAAY,KAAKvB,UAAjB;EACH;;AAnDU,CAAf","names":["UserItem","mapState","mapMutations","mapActions","mapGetters","UserPagination","name","components","data","page","pageFirst","pageLast","totalPages","sortOptions","value","methods","setUsers","setSearchQuery","setSelectedSort","sortedUsers","fetchUsers","changePage","pageNumber","sortinStart","ss","selectedSort","computed","users","state","TestModule","beforeMount","Math","ceil","length","console","log"],"sourceRoot":"","sources":["/Users/maksimov/Documents/Проекты/rest-api-test/front-end/src/components/MySlider/UserSlider.vue"],"sourcesContent":["<template>\n    <div class=\"sort__group\">\n        <my-select\n                :model-value=\"selectedSort\"\n                @update:model-value=\"sortinStart\"\n                @click=\"\"\n                :options=\"sortOptions\"\n        />\n    </div>\n    <div v-if=\"this.users.length > 0\">\n    <section class=\"users__wrapper\">\n        <user-item\n                v-for=\"user in users.slice(pageFirst,pageLast)\"\n                :key=\"user.id\"\n                :user=\"user\"\n        />\n    </section>\n    <div class=\"pagination__wrapper\">\n        <user-pagination\n                v-for=\"pageNumber in totalPages\"\n                :key=\"pageNumber\"\n                :class=\"{'pagination__active': page === pageNumber}\"\n                @click=\"changePage(pageNumber)\"\n        >\n            {{pageNumber}}\n        </user-pagination>\n    </div>\n    </div>\n    <div style=\"text-align: center\" v-else>\n        <h1>Список пользователей пока пуст</h1>\n    </div>\n</template>\n<script>\nimport UserItem from '@/components/MySlider/UserItem'\nimport {mapState, mapMutations, mapActions, mapGetters} from 'vuex'\nimport UserPagination from \"@/components/MySlider/UserPagination\";\nexport default {\n    name: 'user-slider',\n    components: {\n        UserPagination,\n        UserItem,\n    },\n    data () {\n      return {\n          page: 1,\n          pageFirst: 0,\n          pageLast: 5,\n          totalPages: 1,\n          sortOptions: [\n              { value: 'toAlph', name: 'A-Z' },\n              { value: 'reverseAlph', name: 'Z-A'}\n          ]\n      }\n    },\n    methods: {\n        ...mapMutations({\n            setUsers: 'TestModule/setUsers',\n            setSearchQuery: 'TestModule/setSearchQuery',\n            setSelectedSort: 'TestModule/setSelectedSort',\n            sortedUsers: 'TestModule/sortedUsers'\n        }),\n        ...mapActions({\n            fetchUsers: 'TestModule/fetchUsers'\n        }),\n        changePage(pageNumber) {\n            this.page = pageNumber;\n            this.pageFirst = 5 * this.page - 5;\n            this.pageLast = 5 * this.page;\n        },\n        sortinStart () {\n            this.setSelectedSort();\n            let ss = this.selectedSort;\n            this.sortedUsers(ss);\n        }\n    },\n    computed: {\n        ...mapState({\n            users: state => state.TestModule.users,\n            selectedSort: state => state.TestModule.selectedSort,\n        }),\n        ...mapGetters({\n        })\n    },\n    beforeMount() {\n        this.totalPages = Math.ceil(this.users.length / 5);\n        this.fetchUsers();\n        console.log(this.totalPages);\n    },\n}\n</script>\n<style lang=\"sass\" scoped>\n.users__wrapper\n   display: flex\n   flex-direction: row\n   gap: 10px\n.pagination__wrapper\n    display: flex\n    flex-direction: row\n    justify-content: center\n    margin-top: 16px\n    gap: 5px\n.pagination__active\n    color: blue !important\n    background: white !important\n    border: 2px solid blue !important\n.sort__group\n    display: flex\n    flex-direction: row\n    width: 100%\n    padding-bottom: 16px\n</style>"]},"metadata":{},"sourceType":"module"}